// For format details, see https://aka.ms/vscode-remote/devcontainer.json or the definition README at
// https://github.com/microsoft/vscode-dev-containers/tree/master/containers/powershell
{
    "name": "PowerShell",
    "dockerFile": "Dockerfile",
    // Uncomment the next line to use a non-root user. See https://aka.ms/vscode-remote/containers/non-root-user.
    // "runArgs": [ "-u", "1000" ],
    "runArgs": [
        "-v",
        "/var/run/docker.sock:/var/run/docker.sock",
        // "-v",
        // "${env:HOME}${env:USERPROFILE}/.ssh:/root/.ssh:ro",
        "-u",
        "1000"
    ],
    // "postCreateCommand": "mkdir -p ~/.ssh && cp -r ~/.ssh/* ~/.ssh && chmod 700 ~/.ssh && chmod 600 ~/.ssh/*",
    "extensions": [
        "ms-vscode.powershell",
        "mauve.terraform",
        "ms-azuretools.vscode-docker"
    ],
    "settings": {
        "remote.extensionKind": {
            "ms-azuretools.vscode-docker": "workspace"
        }
    }
}